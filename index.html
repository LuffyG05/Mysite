<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Anniversary</title>
    <style>
        body { text-align: center; background-color: #ffebf0; font-family: 'Arial', sans-serif; }
        .container { padding: 20px; }
        h1 { color: #d63384; font-size: 3em; }
        .heart { color: red; font-size: 2em; animation: heartbeat 1s infinite alternate; }
        @keyframes heartbeat { from { transform: scale(1); } to { transform: scale(1.2); } }
        .message { font-size: 1.5em; color: #333; margin-top: 20px; }
        .gallery img { width: 150px; height: 150px; border-radius: 10px; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2); margin: 10px; }
        .video-container { margin-top: 20px; }
        .footer { margin-top: 30px; font-size: 1.2em; color: #d63384; }
        .button { margin-top: 20px; padding: 10px 20px; font-size: 1.2em; color: white; background-color: #d63384; border: none; border-radius: 10px; cursor: pointer; }
        .response-box { display: none; margin-top: 20px; }
        #saved-date { margin-top: 10px; font-size: 1.2em; color: #444; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Happy Anniversary <span class="heart">‚ù§Ô∏è</span></h1>
        <p class="date">09/03/2025</p>
        <p class="message">"Every moment with you is special. Happy anniversary, my love!"</p>

        <div class="gallery">
            <img src="https://raw.githubusercontent.com/LuffyG05/Mysite/main/1000049608.jpg" alt="Memory 1">
            <img src="https://raw.githubusercontent.com/LuffyG05/Mysite/main/IMG_0994.jpg" alt="Memory 2">
            <img src="https://raw.githubusercontent.com/LuffyG05/Mysite/main/IMG_1269.JPG" alt="Memory 3">
        </div>

        <div class="video-container">
    <video width="320" height="240" controls muted>
        <source src="https://drive.google.com/uc?export=download&id=1ZJgC9ihD8kWt48Gfkyg6CFXAakvBGrkS" type="video/mp4">
        Your browser does not support the video tag.
    </video>
        </div>

        <button class="button" onclick="showResponse()">Click here ü´†</button>

        <div id="response" class="response-box">
            <p>Please select a date for IBIS:</p>
            <input type="date" id="ibis-date" min="2025-03-01" max="2025-03-31">
            <p id="saved-date">Previously Selected Date: <span>None</span></p>
        </div>

        <p class="footer">Forever yours ‚ù§Ô∏è</p>
    </div>

    <!-- JavaScript for UI and Firebase -->
    <script>
        function showResponse() {
            document.getElementById("response").style.display = "block";
        }

        function saveSelectedDate() {
            let selectedDate = document.getElementById("ibis-date").value;
            if (selectedDate) {
                set(ref(window.database, "selectedDate"), {
                    date: selectedDate
                }).then(() => {
                    console.log("‚úÖ Date saved:", selectedDate);
                    document.getElementById("saved-date").innerHTML = `Previously Selected Date: <span>${selectedDate}</span>`;
                }).catch(error => console.error("‚ùå Error saving date:", error));
            }
        }

        function loadPreviousDate() {
            get(ref(window.database, "selectedDate"))
            .then(snapshot => {
                if (snapshot.exists()) {
                    let savedDate = snapshot.val().date;
                    document.getElementById("saved-date").innerHTML = `Previously Selected Date: <span>${savedDate}</span>`;
                } else {
                    console.log("‚ÑπÔ∏è No saved date found.");
                }
            })
            .catch(error => console.error("‚ùå Firebase read error:", error));
        }

        document.getElementById("ibis-date").addEventListener("change", saveSelectedDate);
        window.onload = loadPreviousDate;
    </script>

    <!-- Firebase Integration -->
   <!-- Firebase Integration (Updated) -->
   <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    // Initialize Firebase
    const firebaseConfig = {
        databaseURL: "https://apps-f4aae-default-rtdb.firebaseio.com/",
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    // Make Firebase functions available globally
    window.database = database;
    window.set = set;
    window.get = get;
    window.ref = ref;
   </script>
</body>
</html>
