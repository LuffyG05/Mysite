<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Anniversary</title>
    <style>
        body { text-align: center; background-color: #ffebf0; font-family: 'Arial', sans-serif; }
        .container { padding: 20px; }
        h1 { color: #d63384; font-size: 3em; }
        .heart { color: red; font-size: 2em; animation: heartbeat 1s infinite alternate; }
        @keyframes heartbeat { from { transform: scale(1); } to { transform: scale(1.2); } }
        .message { font-size: 1.5em; color: #333; margin-top: 20px; }
        .gallery img { width: 150px; height: 150px; border-radius: 10px; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2); }
        .video-container { margin-top: 20px; }
        .footer { margin-top: 30px; font-size: 1.2em; color: #d63384; }
        .button { margin-top: 20px; padding: 10px 20px; font-size: 1.2em; color: white; background-color: #d63384; border: none; border-radius: 10px; cursor: pointer; }
        .response-box { display: none; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Happy Anniversary <span class="heart">‚ù§Ô∏è</span></h1>
        <p class="date">09/03/2025</p>
        <p class="message">"Every moment with you is special. Happy anniversary, my love!"</p>

        <div class="gallery">
            <img src="https://raw.githubusercontent.com/LuffyG05/Mysite/main/1000049608.jpg" alt="Memory 1">
            <img src="https://raw.githubusercontent.com/LuffyG05/Mysite/main/IMG_0994.jpg" alt="Memory 2">
            <img src="https://raw.githubusercontent.com/LuffyG05/Mysite/main/IMG_1269.JPG" alt="Memory 3">
        </div>

        <div class="video-container">
            <video width="320" height="240" controls>
                <source src="https://drive.google.com/uc?export=download&id=1ZJgC9ihD8kWt48Gfkyg6CFXAakvBGrkS" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <button class="button" onclick="showResponse()">Click here ü´†</button>

        <div id="response" class="response-box">
            <p>Please select a date for IBIS:</p>
            <input type="date" id="ibis-date" min="2025-03-01" max="2025-03-31" onchange="saveSelectedDate()">
        </div>

        <p class="footer">Forever yours ‚ù§Ô∏è</p>
    </div>

    <!-- Ensure functions are in the global scope -->
    <script>
        function showResponse() {
            document.getElementById("response").style.display = "block";
        }
    </script>

    <!-- Firebase & JavaScript -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCj8F3qHWUSL3tmLS945tHkOSFJnpRkGlI",
            authDomain: "apps-f4aae.firebaseapp.com",
            projectId: "apps-f4aae",
            storageBucket: "apps-f4aae.appspot.com",
            messagingSenderId: "710315506427",
            appId: "1:710315506427:web:3cee5897e7aba83bdc0e5e"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        function saveSelectedDate() {
            let selectedDate = document.getElementById("ibis-date").value;
            if (selectedDate) {
                set(ref(database, "selectedDate"), { date: selectedDate })
                    .then(() => console.log("Date saved:", selectedDate))
                    .catch(error => console.error("Error saving date:", error));
            }
        }

        onValue(ref(database, "selectedDate"), (snapshot) => {
            if (snapshot.exists()) {
                console.log("User Selected Date:", snapshot.val().date);
            }
        });
    </script>
</body>
</html>
